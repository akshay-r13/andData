(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){},103:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(54),c=a.n(r),s=(a(66),a(8)),i=a(9),o=a(11),m=a(10),u=a(12),d=a(21),h=a(13),p=(a(67),a(68),a(55)),E=a(56),g=(a(73),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"annotateText",value:function(e){return e.map(function(e){return""===e.entity_type?" "+e.token+" ":l.a.createElement("span",{className:e.entity_type}," ",e.token," ")})}},{key:"render",value:function(){return l.a.createElement("div",{id:"highlighted-text-output"},this.annotateText(this.props.annotations))}}]),t}(n.Component)),f=a(57),v=a.n(f)()("http://104.211.9.147:5000/",{path:"/entity_extractor"}),b=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).state={text:"",annotations:[],searchFor:""},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.on("found_entities",function(t){e.setState({annotations:t.tokens},function(){console.log(e.state.annotations)})}),v.on("error",function(t){console.log(t),e.setState({error:!0,errorMessage:"Unfortunately an error occured, please try again"})})}},{key:"handleTextChange",value:function(e){this.setState({text:e.target.value})}},{key:"handleSearchChange",value:function(e){this.setState({searchFor:e.target.value})}},{key:"handleSubmit",value:function(e){console.log("handleSubmit"),v.emit("find_entities",{text:this.state.text,searchItems:this.state.searchFor})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"center title-wrapper"},l.a.createElement("h1",{className:"title-text"},"Substance"),l.a.createElement("h2",{className:"product-description"},"Describe large digital collections quickly and efficiently using Substance, an intelligent entity extractor."),l.a.createElement("h2",{className:"title-text"},"Our Offerings"),l.a.createElement("div",{className:"legend-container"},l.a.createElement("span",{className:"PERSON"},"People")," \xa0",l.a.createElement("span",{className:"GPE"},"Locations")," \xa0",l.a.createElement("span",{className:"ORG"},"Organizations")," \xa0",l.a.createElement("span",{className:"DATE"},"Dates")," \xa0",l.a.createElement("span",{className:"TIME"},"Times")," \xa0",l.a.createElement("span",{className:"MONEY"},"Money"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("textarea",{id:"input-text-area",className:"center",value:this.state.text,onChange:this.handleTextChange.bind(this)})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{id:"search-box-wrapper",className:"center"},l.a.createElement("input",{type:"text",value:this.state.searchFor,onChange:this.handleSearchChange.bind(this)}),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit.bind(this)},l.a.createElement(p.a,{icon:E.a,color:" #ff267c"}))),l.a.createElement(g,{annotations:this.state.annotations}))))}}]),t}(n.Component),x=(a(103),a(58)),y=a.n(x),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0],fileURL:URL.createObjectURL(e.target.files[0]),loaded:0})},a.onClickHandler=function(){a.setState({loading:!0});var e=new FormData;e.append("file",a.state.selectedFile),y.a.post("http://104.211.9.147:5001/tamil_ocr/upload",e,{}).then(function(e){console.log(e.statusText),console.log(e.data.extracted_text),a.setState({resultText:e.data.extracted_text,languageDetected:e.data.language_detected,translatedText:e.data.translated_text,loading:!1,error:!1})}).catch(function(e){console.log(e),a.setState({errorMessage:"Unfortunately an error has occured, please try again",loading:!1,error:!0})})},a.state={selectedFile:null,resultText:"",languageDetected:"",translatedText:"",errorMessage:"",loading:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"renderResults",value:function(){return this.state.loading?l.a.createElement("div",null,"Loading ..."):this.state.error?l.a.createElement("div",{id:"error-message"},this.state.errorMessage):this.state.translatedText?this.state.translatedText[0]!=[""]?(console.log(this.state.translatedText),l.a.createElement("div",{id:"ocr-results-div"},this.state.resultText.split("\n").map(function(e,t){return l.a.createElement("div",{key:t},e)}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"Language detected"),": ",this.state.languageDetected,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"Translation"),": ",this.state.translatedText)):l.a.createElement("div",{id:"ocr-results-div"},"No text found in image"):l.a.createElement("div",null)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"center title-wrapper"},l.a.createElement("h1",{className:"title-text"},"OCR Solutions"),l.a.createElement("h2",{className:"product-description"},"Extract useful insights from images containing textual information."),l.a.createElement("h2",{className:"title-text"},"Try it out")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{method:"post",action:"#",id:"#"},l.a.createElement("div",null,l.a.createElement("h3",{className:"center"},"Upload Your File "),this.state.selectedFile?l.a.createElement("img",{id:"preview-image",src:this.state.fileURL,style:{maxHeight:"300px",maxWidth:"100%"},alt:"preview"}):"",l.a.createElement("input",{className:"center",type:"file",multiple:"",onChange:this.onChangeHandler}))),l.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.onClickHandler},"Upload")),l.a.createElement("div",{className:"col-md-6"},this.renderResults())))}}]),t}(n.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(d.a,null,l.a.createElement("nav",null,l.a.createElement("div",{id:"nav-bar-wrapper"},l.a.createElement("img",{id:"logo",src:"/logo.png",alt:"logo &Data"}),l.a.createElement("ul",{id:"nav-bar-list"},l.a.createElement("li",{className:"nav-bar-item"},l.a.createElement(d.b,{to:"/"},"Substance")),l.a.createElement("li",{className:"nav-bar-item"},l.a.createElement(d.b,{to:"/ocr/"},"OCR"))))),l.a.createElement("div",{className:"container"},l.a.createElement(h.a,{path:"/",exact:!0,component:b}),l.a.createElement(h.a,{path:"/ocr/",component:N}))),l.a.createElement("div",{style:{height:"100px"}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},61:function(e,t,a){e.exports=a(122)},66:function(e,t,a){},68:function(e,t,a){},73:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.ef0a1309.chunk.js.map